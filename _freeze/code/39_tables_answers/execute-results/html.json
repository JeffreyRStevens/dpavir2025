{
  "hash": "e1222643b9ac8bfc853ed7ef6d88c00b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Tables\"\nauthor: \"Jeffrey R. Stevens\"\ndate: \"2023-05-03\"\noutput: html_document\nexecute:\n  freeze: auto\n---\n\n\n\n\n1. Using the `mpg` data, create a data frame called `my_mpg` that capitalizes the manufacturer.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nmy_mpg <- mpg |> \n  mutate(manufacturer = str_to_sentence(manufacturer))\n```\n:::\n\n\n\n\n2. Calculate mean highway and city fuel efficiency for each manufacturer and return a table with the caption \"Highway and city fuel efficiency\" and column names \"Manufacturer\", \"Highway\", and \"City\".\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(knitr)\nmy_mpg |> \n  summarise(mean_hwy = mean(hwy), mean_cty = mean(cty), .by = c(manufacturer)) |> \n  kable(digits = 1, \n        col.names = c(\"Manufacturer\", \"Highway\", \"City\"),\n        caption = \"Highway and city fuel efficiency\")\n```\n\n::: {.cell-output-display}\n\n\nTable: Highway and city fuel efficiency\n\n|Manufacturer | Highway| City|\n|:------------|-------:|----:|\n|Audi         |    26.4| 17.6|\n|Chevrolet    |    21.9| 15.0|\n|Dodge        |    17.9| 13.1|\n|Ford         |    19.4| 14.0|\n|Honda        |    32.6| 24.4|\n|Hyundai      |    26.9| 18.6|\n|Jeep         |    17.6| 13.5|\n|Land rover   |    16.5| 11.5|\n|Lincoln      |    17.0| 11.3|\n|Mercury      |    18.0| 13.2|\n|Nissan       |    24.6| 18.1|\n|Pontiac      |    26.4| 17.0|\n|Subaru       |    25.6| 19.3|\n|Toyota       |    24.9| 18.5|\n|Volkswagen   |    29.2| 20.9|\n\n\n:::\n:::\n\n\n\n\n3. Repeat the table from #2 but add a header that spans Highway and City that says \"Fuel efficiency\". Reminder, you'll need to load `{kableExtra}` to do this.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(kableExtra)\nmy_mpg |> \n  summarise(mean_hwy = mean(hwy), mean_cty = mean(cty), .by = c(manufacturer)) |> \n  kable(digits = 1, \n        col.names = c(\"Manufacturer\", \"Highway\", \"City\"),\n        caption = \"Highway and city fuel efficiency\") |> \n  add_header_above(c(\" \" = 1, \"Fuel efficiency\" = 2))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n<caption>Highway and city fuel efficiency</caption>\n <thead>\n<tr>\n<th style=\"empty-cells: hide;border-bottom:hidden;\" colspan=\"1\"></th>\n<th style=\"border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; \" colspan=\"2\"><div style=\"border-bottom: 1px solid #ddd; padding-bottom: 5px; \">Fuel efficiency</div></th>\n</tr>\n  <tr>\n   <th style=\"text-align:left;\"> Manufacturer </th>\n   <th style=\"text-align:right;\"> Highway </th>\n   <th style=\"text-align:right;\"> City </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Audi </td>\n   <td style=\"text-align:right;\"> 26.4 </td>\n   <td style=\"text-align:right;\"> 17.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Chevrolet </td>\n   <td style=\"text-align:right;\"> 21.9 </td>\n   <td style=\"text-align:right;\"> 15.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Dodge </td>\n   <td style=\"text-align:right;\"> 17.9 </td>\n   <td style=\"text-align:right;\"> 13.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Ford </td>\n   <td style=\"text-align:right;\"> 19.4 </td>\n   <td style=\"text-align:right;\"> 14.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Honda </td>\n   <td style=\"text-align:right;\"> 32.6 </td>\n   <td style=\"text-align:right;\"> 24.4 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Hyundai </td>\n   <td style=\"text-align:right;\"> 26.9 </td>\n   <td style=\"text-align:right;\"> 18.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Jeep </td>\n   <td style=\"text-align:right;\"> 17.6 </td>\n   <td style=\"text-align:right;\"> 13.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Land rover </td>\n   <td style=\"text-align:right;\"> 16.5 </td>\n   <td style=\"text-align:right;\"> 11.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Lincoln </td>\n   <td style=\"text-align:right;\"> 17.0 </td>\n   <td style=\"text-align:right;\"> 11.3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Mercury </td>\n   <td style=\"text-align:right;\"> 18.0 </td>\n   <td style=\"text-align:right;\"> 13.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Nissan </td>\n   <td style=\"text-align:right;\"> 24.6 </td>\n   <td style=\"text-align:right;\"> 18.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Pontiac </td>\n   <td style=\"text-align:right;\"> 26.4 </td>\n   <td style=\"text-align:right;\"> 17.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Subaru </td>\n   <td style=\"text-align:right;\"> 25.6 </td>\n   <td style=\"text-align:right;\"> 19.3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Toyota </td>\n   <td style=\"text-align:right;\"> 24.9 </td>\n   <td style=\"text-align:right;\"> 18.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Volkswagen </td>\n   <td style=\"text-align:right;\"> 29.2 </td>\n   <td style=\"text-align:right;\"> 20.9 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n4. Calculate mean highway and city fuel efficiency for each manufacturer and year. Order the data frame by year, then remove the year column and add labels for each year that spans the rows for each year. Also, add a footnote that says \"Source: mpg data set.\".\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_mpg |> \n  summarise(mean_hwy = mean(hwy), mean_cty = mean(cty), .by = c(year, manufacturer)) |> \n  arrange(year) |> \n  select(-year) |> \n  kable(digits = 1, \n        col.names = c(\"Manufacturer\", \"Highway\", \"City\"),\n        caption = \"Highway and city fuel efficiency\") |> \n  pack_rows(\"1999\", 1, 15) |> \n  pack_rows(\"2008\", 16, 30) |> \n  footnote(general = \"Source: mpg data set.\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"NAborder-bottom: 0;\">\n<caption>Highway and city fuel efficiency</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Manufacturer </th>\n   <th style=\"text-align:right;\"> Highway </th>\n   <th style=\"text-align:right;\"> City </th>\n  </tr>\n </thead>\n<tbody>\n  <tr grouplength=\"15\"><td colspan=\"3\" style=\"border-bottom: 1px solid;\"><strong>1999</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Audi </td>\n   <td style=\"text-align:right;\"> 26.1 </td>\n   <td style=\"text-align:right;\"> 17.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Chevrolet </td>\n   <td style=\"text-align:right;\"> 21.6 </td>\n   <td style=\"text-align:right;\"> 15.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Dodge </td>\n   <td style=\"text-align:right;\"> 18.4 </td>\n   <td style=\"text-align:right;\"> 13.4 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Ford </td>\n   <td style=\"text-align:right;\"> 18.6 </td>\n   <td style=\"text-align:right;\"> 13.9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Honda </td>\n   <td style=\"text-align:right;\"> 31.6 </td>\n   <td style=\"text-align:right;\"> 24.8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Hyundai </td>\n   <td style=\"text-align:right;\"> 26.7 </td>\n   <td style=\"text-align:right;\"> 18.3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Jeep </td>\n   <td style=\"text-align:right;\"> 18.5 </td>\n   <td style=\"text-align:right;\"> 14.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Land rover </td>\n   <td style=\"text-align:right;\"> 15.0 </td>\n   <td style=\"text-align:right;\"> 11.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Lincoln </td>\n   <td style=\"text-align:right;\"> 16.5 </td>\n   <td style=\"text-align:right;\"> 11.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Mercury </td>\n   <td style=\"text-align:right;\"> 17.0 </td>\n   <td style=\"text-align:right;\"> 13.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Nissan </td>\n   <td style=\"text-align:right;\"> 23.5 </td>\n   <td style=\"text-align:right;\"> 17.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Pontiac </td>\n   <td style=\"text-align:right;\"> 26.3 </td>\n   <td style=\"text-align:right;\"> 17.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Subaru </td>\n   <td style=\"text-align:right;\"> 25.5 </td>\n   <td style=\"text-align:right;\"> 19.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Toyota </td>\n   <td style=\"text-align:right;\"> 24.0 </td>\n   <td style=\"text-align:right;\"> 18.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Volkswagen </td>\n   <td style=\"text-align:right;\"> 29.7 </td>\n   <td style=\"text-align:right;\"> 21.2 </td>\n  </tr>\n  <tr grouplength=\"15\"><td colspan=\"3\" style=\"border-bottom: 1px solid;\"><strong>2008</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Audi </td>\n   <td style=\"text-align:right;\"> 26.8 </td>\n   <td style=\"text-align:right;\"> 18.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Chevrolet </td>\n   <td style=\"text-align:right;\"> 22.1 </td>\n   <td style=\"text-align:right;\"> 14.9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Dodge </td>\n   <td style=\"text-align:right;\"> 17.6 </td>\n   <td style=\"text-align:right;\"> 13.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Ford </td>\n   <td style=\"text-align:right;\"> 20.5 </td>\n   <td style=\"text-align:right;\"> 14.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Honda </td>\n   <td style=\"text-align:right;\"> 33.8 </td>\n   <td style=\"text-align:right;\"> 24.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Hyundai </td>\n   <td style=\"text-align:right;\"> 27.0 </td>\n   <td style=\"text-align:right;\"> 18.9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Jeep </td>\n   <td style=\"text-align:right;\"> 17.3 </td>\n   <td style=\"text-align:right;\"> 13.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Land rover </td>\n   <td style=\"text-align:right;\"> 18.0 </td>\n   <td style=\"text-align:right;\"> 12.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Lincoln </td>\n   <td style=\"text-align:right;\"> 18.0 </td>\n   <td style=\"text-align:right;\"> 12.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Mercury </td>\n   <td style=\"text-align:right;\"> 19.0 </td>\n   <td style=\"text-align:right;\"> 13.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Nissan </td>\n   <td style=\"text-align:right;\"> 25.6 </td>\n   <td style=\"text-align:right;\"> 18.4 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Pontiac </td>\n   <td style=\"text-align:right;\"> 26.5 </td>\n   <td style=\"text-align:right;\"> 17.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Subaru </td>\n   <td style=\"text-align:right;\"> 25.6 </td>\n   <td style=\"text-align:right;\"> 19.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Toyota </td>\n   <td style=\"text-align:right;\"> 26.1 </td>\n   <td style=\"text-align:right;\"> 19.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> Volkswagen </td>\n   <td style=\"text-align:right;\"> 28.5 </td>\n   <td style=\"text-align:right;\"> 20.5 </td>\n  </tr>\n</tbody>\n<tfoot>\n<tr><td style=\"padding: 0; \" colspan=\"100%\"><span style=\"font-style: italic;\">Note: </span></td></tr>\n<tr><td style=\"padding: 0; \" colspan=\"100%\">\n<sup></sup> Source: mpg data set.</td></tr>\n</tfoot>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n5. Conduct a linear regression called `my_model` of the effects of displacement, cylinder, and year on highway fuel efficiency: `lm(hwy ~ displ + cyl + year, my_mpg)`. Apply the `summary()` function to the model object, then return the `coefficients` table from the summary.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_model <- lm(hwy ~ displ + cyl + year, my_mpg)\nmy_model_summary <- summary(my_model)$coefficients\nkable(my_model_summary)\n```\n\n::: {.cell-output-display}\n\n\n|            |     Estimate|  Std. Error|   t value| Pr(>&#124;t&#124;)|\n|:-----------|------------:|-----------:|---------:|------------------:|\n|(Intercept) | -259.1221270| 109.1594125| -2.373795|          0.0184288|\n|displ       |   -2.0912178|   0.5146232| -4.063590|          0.0000663|\n|cyl         |   -1.3065333|   0.4111205| -3.177982|          0.0016866|\n|year        |    0.1484984|   0.0545146|  2.724013|          0.0069446|\n\n\n:::\n:::\n\n\n\n\n6. Extract the `table` after applying `{papaja}`'s `apa_print()` to `my_model`, then pass this to `apa_table()`.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(papaja)\napa_table(apa_print(my_model)$table)\n```\n\n::: {.cell-output-display}\nTable: (\\#tab:unnamed-chunk-6) \n\n\nPredictor   $b$       95\\% CI             $t$     $\\mathit{df}$   $p$    \n----------  --------  ------------------  ------  --------------  -------\nIntercept   -259.12   [-474.20, -44.04]   -2.37   230             .018   \nDispl       -2.09     [-3.11, -1.08]      -4.06   230             < .001 \nCyl         -1.31     [-2.12, -0.50]      -3.18   230             .002   \nYear        0.15      [0.04, 0.26]        2.72    230             .007   \n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}