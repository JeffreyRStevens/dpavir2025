{
  "hash": "b1f87315d69dd7c19aa659f311522626",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Group challenges\"\noutput: html_document\ndate: \"2023-03-06\"\nexecute:\n  freeze: auto\n---\n\n\n\n\n\n## Group data wrangling challenge\n\nUsing the `penguins` data set from the {palmerpenguins} package, recreate this data frame.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(palmerpenguins)\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\n`summarise()` has grouped output by 'species', 'island'. You can override using\nthe `.groups` argument.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 4\n# Groups:   species, island [4]\n  species   island    female  male\n  <fct>     <fct>      <dbl> <dbl>\n1 Adelie    Biscoe     3369. 4050 \n2 Adelie    Dream      3344. 4046.\n3 Adelie    Torgersen  3396. 4035.\n4 Chinstrap Dream      3527. 3939.\n```\n\n\n:::\n:::\n\n\n\n## Group plotting challenge\n\nplot1 <- penguins |>\n  filter(species == \"Adelie\") |>\n  drop_na(sex) |>\n  mutate(Sex = fct_recode(sex, \"Female\" = \"female\",\n                          \"Male\" = \"male\")) |>\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm, color = Sex)) +\n  geom_point(size = 2.8, alpha = 0.55) +\n  geom_smooth(method = \"lm\", se = F, color = \"gray50\") + \n  scale_x_continuous(limits = c(31, 46), n.breaks = 15) +\n  scale_y_continuous(limits = c(16, 21), n.breaks = 8,\n                     expand = c(0, 1.5)) +\n  annotate(geom = \"segment\", x = 33.5, xend = 34.35, \n           y = 21.5, yend = 21.2, color = \"black\") +\n  annotate(geom = \"text\", label = \"Penguin 42\", x = 34, y = 21.8) +\n  labs(y = \"Bill depth (mm)\", x = \"Bill length (mm)\", title = \"Bill size by sex\") +\n  theme_classic() +\n  theme(legend.position = c(0.85, 0.2),\n        legend.background = element_rect(fill = \"transparent\", color = \"transparent\"))\n\nplot2 <- penguins |>\n  filter(species == \"Adelie\") |>\n  drop_na(sex, island) |>\n  mutate(Sex = fct_recode(sex, \"Female\" = \"female\",\n                          \"Male\" = \"male\"),\n         Island = island) |>\n  ggplot(aes(x = Sex, y = flipper_length_mm, \n             group = Island, shape = Island, color = Island)) +\n  stat_summary(position = position_dodge(width = 0.12)) +\n  stat_summary(fun = mean, geom = \"line\", position = position_dodge(width = 0.12)) +\n  labs(y = \"Flipper length (mm)\", \n       title = \"Mean and standard error of flipper length by sex and island\") +\n  theme_classic() + \n  theme(legend.position = c(0.85, 0.25))\n\nplot3 <- penguins |>\n  filter(species == \"Adelie\") |>\n  drop_na(sex, island, year) |>\n  mutate(Sex = fct_recode(sex, \"Female\" = \"female\",\n                          \"Male\" = \"male\"),\n         Year = as.factor(year)) |>\n  ggplot(aes(x = Year, y = flipper_length_mm, color = Year)) +\n  geom_jitter(width = .2, alpha = 0.6) +\n  stat_summary(fun.data = mean_cl_normal, color = \"black\") +\n  scale_y_continuous(limits = c(170, 210), n.breaks = 5) +\n  geom_text(stat = \"count\", aes(label = paste0(\"N = \", after_stat(count))), y = 170,\n            color = \"black\") +\n  facet_wrap(vars(island)) +\n  labs(y = \"Flipper length (mm)\", \n       title = \"Mean and 95% confidence interval of flipper length by island and year\") +\n  scale_color_manual(values = c(\"#0072B2\", \"#009E73\", \"#E69F00\")) +\n  theme_classic() +\n  theme(legend.position = \"none\")\n\n(plot1 + plot2) / plot3 + \n  plot_annotation(title = \"Adelie penguin bill and flipper size\",\n                  caption = \"Source {palmerpenguins} data set\",\n                  tag_levels = \"A\")\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}